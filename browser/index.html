<!-- WAT browser REPL. -->
<html>
<head>
  <title>Wat</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
  <script type="text/javascript" src="../wat.js"></script>
</head>
<body>
<h1><a href="https://github.com/manuel/wat-js">Wat</a></h1>
<script type="text/javascript">
var manual = 
    ["begin",
     ["define", "manual", 
      ["document", [],
       ["head", [],
        ["title", [], "Wat Manual"]],
       ["body", [],
        "Hello world!"]]]];

var code = 
    ["begin",
     ["define", "bar", ["lambda", [], ["+", 3, 4]]],
     ["define-macro", ["foo"], ["list", "bar"]],
     ["!", 12],
     ["#", "write", document, 11],
     ["[]=", window, 12, 1],
     ["[]", window, 12],
     ["define", "txt", ["#", "createTextNode", document, ["string", "Quux"]]],
     ["#", "appendChild", [".", "body", document], "txt"],
     ["let", [["x", 33]], "x"],
     ["catch",
      ["throw", ["string", "foo"]],
      ["lambda", ["exc"], ["#", "log", console, "exc"]]],
     ["let-escape", "x",
      ["x", 12]],
     ["let*", [["a", 1], ["b", ["+", "a", 1]]],
      "b"],
     ["where", ["+", "x", "y"],
      ["x", 1],
      ["y", 2]],
    ];
console.log(new wat.VM().run(code));
</script>
</body>
</html>
