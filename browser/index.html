<!-- WAT browser REPL. -->
<html>
<head>
  <title>Wat</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
  <script type="text/javascript" src="../wat.js"></script>
</head>
<body>
<h1><a href="https://github.com/manuel/wat-js">Wat</a></h1>
<script type="text/javascript">
var manual = 
    ["begin",
     ["define", "manual", 
      ["document", [],
       ["head", [],
        ["title", [], "Wat Manual"]],
       ["body", [],
        "Hello world!"]]]];

var code = 
    ["begin",
     ["define", "bar", ["lambda", [], ["+", 3, 4]]],
     ["define-macro", ["foo"], ["list", "bar"]],
     ["!", 12],
     ["#", document, "write", 11],
     ["[]=", window, 12, 1],
     ["[]", window, 12],
     ["define", "txt", ["#", document, "createTextNode", ["string", "Quux"]]],
     ["#", [".", document, "body"], "appendChild", "txt"],
     ["let", [["x", 33]], "x"],
     ["catch",
      ["throw", ["string", "foo"]],
      ["lambda", ["exc"], ["#", console, "log", "exc"]]],
     ["let-escape", "x",
      ["x", 12]],
     ["let", [["i", ["ref", 0]]],
      ["while", ["<", ["get", "i"], 10],
       ["#", console, "log", ["get", "i"]],
       ["set", "i", ["+", ["get", "i"], 1]]]]
    ];
console.log(new wat.VM().run(code));
</script>
</body>
</html>
